function e(t){let{childNodes:n}=t;if(0===n.length)return null;for(let t=0;t<n.length;t++){let l=n[t];if(l.nodeType===Node.TEXT_NODE)return l;let r=e(l);if(r)return r}return null}function t(t){let{fragment:n}=t.detail,l=e(n);if(l){let e=l.nodeValue;e&&e.match(/^(\s*\n)/)&&(e=e.replace(/^(\s*\n)/,"")),l.parentNode.replaceChild(document.createTextNode(e),l)}let r=function(t){let{childNodes:n}=t;if(0===n.length)return null;for(let t=n.length-1;t>=0;t--){let l=n[t];if(l.nodeType===Node.TEXT_NODE)return l;let r=e(l);if(r)return r}return null}(n);if(r){let e=r.nodeValue;e&&e.match(/(\s*\n)+$/)&&(e=e.replace(/(\s*\n)+$/,"")),r.parentNode.replaceChild(document.createTextNode(e),r)}}function n(){return document.addEventListener("daub-will-highlight",t),l}function l(){document.removeEventListener("daub-will-highlight",t)}export{n as default};
